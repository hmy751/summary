- JS와 비교해서 개발된 이유

virtual dom 방식이 차이점 이다. 
기존의 자바스크립트에서 UI를 변경하는 방식은 직접 해당되는 DOM을 추적해서 변경하는 방식이 었다.
이런 방식에서는 유저 이벤트가 늘어나고 UI의 규모도 커지게 되면 추적하고 변경하는데 많은 리소스가 사용된다.

리액트의 버츄어 돔 비교 방식에서는 직접 DOM을 추적하여 변경 하는 방식이 아니라 선언적으로 UI를 작성하고 추후 변경이 될 데이터를 state로 하여 연결한다. 그리고 state가 변경되면 이를 리액트에 알려 해당 state에 영향을 받는 UI들을 다시 그리는 방식이다.
여기서 차이점은 직접 해당 UI들을 추적하는게 아니라 state즉 변경될 사항으로 부터 자동으로 UI가 변경되는 방식이다. 따라서 직접 UI들을 추적할 필요가 없는게 차이점이 있고 여기에 사용되는게 버츄어 돔이다.

버츄어 돔은 말 그대로 가상 돔으로 리액트에서 메모리에 만든 가상의 돔이다. 버츄어 돔은 웹 페이지에 표시할 돔을 일단 메모리에 저장하고 리액트가 실제 변경에 대한 준비가 완료됐을 때 실제 브라우저의 돔에 반영한다. 상태가 변경되고 이를 버츄어 돔에 변경한 후에 실제 돔에 반영하게 된다.

메모리에서 게산하는 과정을 한 번더 거치게 되기때문에 여러 번의 변경사항을 계산하고 계산이 끝난 후에 한번에 실제 돔에 반영하게 된다.
가상 돔을 관리하므로 실제 돔에 그리는 것 보다는 느리지만 개발할 수 있을 만큼 합리적으로 빠르기 때문에 이 방식으로 리액트는 돔을 관리하게 된다.

- React Fiber

파이버는 리액트에서 관리하는 자바스크립트 객체로 재조정자(fiber reconciler)를 관리하는 역할을 한다.
버츄어 돔과 실제 돔을 비교해 변경 사항을 수집하다 둘 사이에 차이가 있으면 관련된 정보를 가지고 있는 파이버를 기준으로 화면에 렌더링을 요청하는 역할을 한다.
재조정은 리액트에서 어떤 부분을 새롭게 렌더링해야 하는지 가상 돔과 실제 돔을 비교하는 작업으로 이해하면 된다.

과거의 조정 알고리즘은 스택 알고리즘으로 스택이 빌때까지 렌더링에 필요한 작업들을 동기적으로 수행했다. 이를 개선하기 위해16버전 부터는 파이버를 이용해서 조정 작업을 한다.
파이버는 아래의 목표를 가지고 일을 수행한다.
- 작업을 쪼개고 우선순위를 매긴다.
- 작업이 일시 중지하고 다시 시작할수 있도록 되어야 한다.
- 이전에 했던 작업을 다시 재사용하거나 페기할 수 있다.

파이버는 하나의 작업단위로 구성돼어 있고 작업단위를 하나씩 처리하고 마지막에 finishWork()를 실행하여 작업을 커밋해 브라우저 돔에 변경사항을 만들어 낸다.

파이버의 동작 방식은 랜더, 커밋으로 2가지 phase가 존재한다.
렌더 페이즈는 버추어 돔을 조작하는 모든 일련의 과정으로 해당 단계가 끝나면 재조정이 완료된 버츄어 돔을 얻게 된다. 그리고 중간에 언제든지 멈추고 시작될수도 있으며 실제 돔에 마운트 해야하는 내용들을 모아둔 effect list도 산출된다.
커밋 페이즈는 산출 된 effect list를 토대로 실제 DOM에 반영을 진행한다. 이 과정은 중간에 멈출수 없고 동기적으로 한번에 진행된다. 이과정으로 실제 DOM반영을 완료해 단계가 종료되며 콜 스택 접유가 끝나면, 브라우저가 UI에 반영하게 된다.


https://www.blog.kcd.co.kr/dom-%EC%97%90%EC%84%9C-react-fiber-%EA%B9%8C%EC%A7%80-99de8b9c6236

\
## 선언형과 명령형의 차이점

명령형은 인터랫션을 구현할때 직접적으로 지침을 작성하여 UI를 조작한다.
단점은 복잡한 시스템에서는 관리가 기하급수적으로 늘어나고 모든 인터렉션 코드를 주의깊게 확인해야 한다.

리액트에서는 명령형이 아닌 선언형으로 작성된다.
표시할 내용을 선언만 하면 리액트가 UI를 업데이트할 방법을 알아낸다.