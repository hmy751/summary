# Monorepo
---
## 모노레포 이전의 개발 방식

모노레포 이전의 개발 방식은 모놀리식(monolithic)에서 멀티레포(multi repo)개발 방식으로 진행되었다.

먼저 모놀리식 개발은 하나의 저장소에서 개발하는 방식을 말하며, 멀티레포는 각 고유한 저장소에서 프로젝트를 따로 개발하는 방식을 말한다.

### 모놀리식의 문제
모놀리식은 하나의 저장소에서 모든 구성요소를 개발하는 방법으로, 프로젝트의 규모가 커지게 된다. 
이를 해결하기 위해서 기능들을 모듈화 하여 분리하고, 재사용하는 로직들은 공유하며 개발하는 방법으로 개선할 수 있다. 하지만 모듈들로 분리했기 때문에 각 모듈을 필요한 저장소로 나누어서 개발하는 방식으로 바뀌게 되었다.

### 멀티레포의 문제
멀티레포는 모놀리식의 단점을 보완하기 위해 모듈화로 분리된 각 프로젝트들을 고유한 여러 저장소로 분리하여 개발하는 방식이다. 멀티레포 방식에서 대개 서비스의 각 팀들은 저장소마다 프로젝트를 나누어 개발하기 때문에 팀 자율성이 높아지게 된다.

하지만 멀티레포의 문제점들은
- 중복 코드 가능성
  공통 구성요소의 코드를 신경쓰기 어렵다.
- 관리 포인트 증가
  늘어난 수 만큼 관리 포인트가 늘어난다.
- 다른 패키지의 변경 사항 파악
  단절되어 있는 패키지로 여러 저장소의 변경 사항을 파악하기 어렵다.
- 일관성 없는 개발자 경험
  테스트, 빌드, 린트, 배포 등 각 고유하게 지정이 되기 때문에 여러 프로젝트 간의 설정을 기억해야 하는 오버헤드가 생긴다.
  
결국 각 팀마다 고유한 저장소를 가지고 개발하기 때문에 자율성이 높지만, 제일 큰 문제점은 고유한 자율성 때문에 각 저장소마다 고립되는 문제가 생기고, 또 고립되는 특성 때문에 협업이 어려워지는 문제가 있다.

## 모노레포가 등장한 이유?

기존의 멀티레포의 문제점을 보완하기 위해 나온 개발 방식으로 각 프로젝트를 따로 개발하여 독립성을 유지하며, 하나의 저장소로 결합하여 협업에 유리하게 한다.

모노레포의 장점으로는 
- 공통 코드를 사용할 수 있다.
  여러 유틸이나 컴포넌트 등 공유하여 사용할 수 있다.
- 패키지 의존성 관리가 쉽다
  동일한 의존성을 사용하므로 의존성 관리가 쉽다.
- 깃 커밋 등 기록의 일관성
  하나의 저장소에서 깃 커밋을 하므로 변경 사항이나 히스토리 관리를 쉽게 공유할 수 있다.
- 일관된 개발자 경험을 제공한다.
  코드 컨벤션, 빌드 및 테스트 등 일관된 규칙을 사용한다.

모노레포의 단점으로는
- 스케일이 커진다.
  저장소의 크기가 커지며 관리가 어려울 수 있고, 클론속도 또한 느려진다.

## 모노레포의 특징들

- 로컬 계산 캐싱
- 로컬 작업 오케스트레이션
- 분산 계산 캐싱
- 분산 작업 실행
- 영향 받은 프로젝트 감지
- 작업 공간 분석
- 종속성 그래프 시각화
- 소스코드 공유
- 일관된 툴링
- 코드 생성
- 프로젝트 제약 및 가시성

https://d2.naver.com/helloworld/0923884
https://monorepo.tools/
https://green-labs.github.io/monorepo-microfrontend
https://f-lab.kr/blog/everything-about-the-microfrontend